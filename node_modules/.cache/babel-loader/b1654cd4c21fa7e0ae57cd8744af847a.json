{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sb/Projects/moken-website/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/sb/Projects/moken-website/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/sb/Projects/moken-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sb/Projects/moken-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Text from\"../Text\";import Input from\"../Input\";import React,{useState}from\"react\";import Title from\"../Title\";import'./index.scss';import useWindowDimensions from\"../../hooks/useWindowDimensions\";import emailjs from\"emailjs-com\";import useValues from\"../../hooks/useValues\";import Loader from\"../Loader\";var OpportunitiesPeopleLeadershipEmailComponent=function OpportunitiesPeopleLeadershipEmailComponent(_ref){var _ref$title=_ref.title,title=_ref$title===void 0?'':_ref$title,_ref$subtitle=_ref.subtitle,subtitle=_ref$subtitle===void 0?'':_ref$subtitle,_ref$description=_ref.description,description=_ref$description===void 0?'':_ref$description,_ref$imgURL=_ref.imgURL,imgURL=_ref$imgURL===void 0?'':_ref$imgURL;var _useWindowDimensions=useWindowDimensions(),isMobile=_useWindowDimensions.isMobile;var _useValues=useValues({name:'',email:''}),_useValues2=_slicedToArray(_useValues,5),values=_useValues2[0],getProps=_useValues2[1],isFormValid=_useValues2[2],errors=_useValues2[3],clearValues=_useValues2[4];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFetching=_useState2[0],setIsFetching=_useState2[1];var handleSubscribe=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(isFormValid){setIsFetching(true);emailjs.send('service_xo07b28','template_xlljnfu',_objectSpread({},values),'user_ILhvoG5ED9QfcW7AV2q89').then(function(response){console.log('SUCCESS!',response.status,response.text);localStorage.setItem('subscription',true);},function(error){console.log('FAILED...',error);}).finally(function(){setIsFetching(false);});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleSubscribe(){return _ref2.apply(this,arguments);};}();var handleOnChange=function handleOnChange(name,value){var _getProps=getProps(name),onChangeText=_getProps.onChangeText;onChangeText(value);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Loader,{isShow:isFetching}),/*#__PURE__*/React.createElement(Title,{title:title}),/*#__PURE__*/React.createElement(\"section\",{className:\"opportunities-form-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"opportunities-form-left-container\"},/*#__PURE__*/React.createElement(Text,{size:50,animationType:\"fade-in\",subtitle:\"Not exactly what you were looking for?\",type:\"kBold\",mobSize:35// type={\"extraLight\"}\n,className:\"subtitle\"},subtitle),/*#__PURE__*/React.createElement(Text,{type:\"kLight\"// type={\"light\"}\n,animationType:\"fade-in\",size:20,mobSize:16,className:\"left-second-title\",containerStyles:{lineHeight:'30px'}},description),/*#__PURE__*/React.createElement(\"div\",{className:\"input-container\"},!JSON.parse(localStorage.getItem('subscription'))?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Input,Object.assign({placeholder:\"Your name\",containerStyles:{width:isMobile?'auto':'45%'},mobSize:15,onChange:function onChange(value){return handleOnChange('name',value);}},getProps('name'))),/*#__PURE__*/React.createElement(Input,Object.assign({containerStyles:{width:isMobile?'auto':'45%'},placeholder:\"Email\",width:\"100%\",onChange:function onChange(value){return handleOnChange('email',value);}},getProps('email'),{mobSize:15,withGoButton:true,onSubmit:handleSubscribe}))):/*#__PURE__*/React.createElement(Text,{type:\"kLight\",size:20},\"Thank you for subscribing\"))),imgURL?/*#__PURE__*/React.createElement(\"img\",{src:imgURL,className:'opportunities-form-img'}):null));};export default OpportunitiesPeopleLeadershipEmailComponent;","map":{"version":3,"sources":["/Users/sb/Projects/moken-website/src/components/OpportunitiesPeopleLeadershipEmailComponent/index.js"],"names":["Text","Input","React","useState","Title","useWindowDimensions","emailjs","useValues","Loader","OpportunitiesPeopleLeadershipEmailComponent","title","subtitle","description","imgURL","isMobile","name","email","values","getProps","isFormValid","errors","clearValues","isFetching","setIsFetching","handleSubscribe","send","then","response","console","log","status","text","localStorage","setItem","error","finally","handleOnChange","value","onChangeText","lineHeight","JSON","parse","getItem","width"],"mappings":"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","sourcesContent":["import Text from \"../Text\";\nimport Input from \"../Input\";\nimport React, {useState} from \"react\";\nimport Title from \"../Title\";\nimport './index.scss';\nimport useWindowDimensions from \"../../hooks/useWindowDimensions\";\nimport emailjs from \"emailjs-com\";\nimport useValues from \"../../hooks/useValues\";\nimport Loader from \"../Loader\";\n\nconst OpportunitiesPeopleLeadershipEmailComponent = ({title = '', subtitle = '', description = '', imgURL =''}) => {\n    const { isMobile } = useWindowDimensions();\n    const [values, getProps, isFormValid, errors, clearValues] = useValues({\n        name: '',\n        email: '',\n    });\n    const [isFetching, setIsFetching] = useState(false);\n\n    const handleSubscribe = async () => {\n        if(isFormValid) {\n            setIsFetching(true);\n            emailjs.send(\n                'service_xo07b28',\n                'template_xlljnfu',\n                {...values},\n                'user_ILhvoG5ED9QfcW7AV2q89')\n                .then(function(response) {\n                    console.log('SUCCESS!', response.status, response.text);\n                    localStorage.setItem('subscription', true);\n                }, function(error) {\n                    console.log('FAILED...', error);\n                }).finally(() => {\n                setIsFetching(false);\n            })\n        }\n    }\n\n    const handleOnChange = (name, value) => {\n        const {onChangeText}= getProps(name);\n        onChangeText(value)\n    }\n\n\n    return (\n        <>\n            <Loader isShow={isFetching} />\n\n            <Title\n            title={title}\n        />\n        <section className={\"opportunities-form-container\"}>\n            <div className={\"opportunities-form-left-container\"}>\n                <Text\n                    size={50}\n                    animationType={\"fade-in\"}\n                    subtitle={\"Not exactly what you were looking for?\"}\n                    type={\"kBold\"}\n                    mobSize={35}\n                    // type={\"extraLight\"}\n                    className={\"subtitle\"}\n                >\n                    {subtitle}\n                </Text>\n                <Text\n                    type={\"kLight\"}\n                    // type={\"light\"}\n                    animationType={\"fade-in\"}\n                    size={20}\n                    mobSize={16}\n                    className={\"left-second-title\"}\n                    containerStyles={{lineHeight: '30px'}}\n                >\n                    {description}\n                </Text>\n                <div className={\"input-container\"}>\n                    { !JSON.parse(localStorage.getItem('subscription')) ? <>\n                        <Input placeholder={\"Your name\"}\n                            containerStyles={{width: isMobile ? 'auto' : '45%'}}\n                            mobSize={15}\n                            onChange={(value) => handleOnChange('name', value)}\n                            {...getProps('name')}\n                        />\n                        <Input\n                        containerStyles={{width: isMobile ? 'auto' : '45%'}}\n                        placeholder={\"Email\"}\n                        width={\"100%\"}\n                        onChange={(value) => handleOnChange('email', value)}\n                        {...getProps('email')}\n                        mobSize={15}\n                        withGoButton\n                        onSubmit={handleSubscribe}\n                        />\n                    </> : <Text  type={\"kLight\"} size={20}>Thank you for subscribing</Text>\n                    }\n                </div>\n            </div>\n            {imgURL ? <img src={imgURL} className={'opportunities-form-img'}/> : null}\n        </section>\n    </>\n\n    )\n}\n\nexport default OpportunitiesPeopleLeadershipEmailComponent\n"]},"metadata":{},"sourceType":"module"}