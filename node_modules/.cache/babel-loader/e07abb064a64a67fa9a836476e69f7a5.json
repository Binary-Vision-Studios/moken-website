{"ast":null,"code":"import _defineProperty from\"/Users/sb/Projects/moken-website/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/sb/Projects/moken-website/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sb/Projects/moken-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";var useFormValidation=function useFormValidation(initialState,validate){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSubmitting=_useState6[0],setSubmitting=_useState6[1];useEffect(function(){if(isSubmitting){var noErrors=Object.keys(errors).length===0;if(noErrors){setSubmitting(false);}else{setSubmitting(false);}}},[errors]);var handleChange=function handleChange(_ref){var name=_ref.name,text=_ref.text;setValues(_objectSpread({},values,_defineProperty({},name,text)));};var handleSubmit=function handleSubmit(callback){var validationErrors=validate?validate(values):{};setSubmitting(true);setErrors(validationErrors);if(typeof callback===\"function\"&&Object.keys(validationErrors).length===0){callback();}};return{handleSubmit:handleSubmit,handleChange:handleChange,values:values,errors:errors,isSubmitting:isSubmitting};};export default useFormValidation;","map":{"version":3,"sources":["/Users/sb/Projects/moken-website/src/hooks/useValidation.js"],"names":["React","useState","useEffect","useFormValidation","initialState","validate","values","setValues","errors","setErrors","isSubmitting","setSubmitting","noErrors","Object","keys","length","handleChange","name","text","handleSubmit","callback","validationErrors"],"mappings":"0VAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,YAAD,CAAeC,QAAf,CAA4B,eACxBJ,QAAQ,CAACG,YAAD,CADgB,wCAC7CE,MAD6C,eACrCC,SADqC,8BAExBN,QAAQ,CAAC,EAAD,CAFgB,yCAE7CO,MAF6C,eAErCC,SAFqC,8BAGdR,QAAQ,CAAC,KAAD,CAHM,yCAG7CS,YAH6C,eAG/BC,aAH+B,eAKpDT,SAAS,CAAC,UAAM,CACd,GAAIQ,YAAJ,CAAkB,CAChB,GAAME,CAAAA,QAAQ,CAAGC,MAAM,CAACC,IAAP,CAAYN,MAAZ,EAAoBO,MAApB,GAA+B,CAAhD,CACA,GAAIH,QAAJ,CAAc,CACZD,aAAa,CAAC,KAAD,CAAb,CACD,CAFD,IAEO,CACLA,aAAa,CAAC,KAAD,CAAb,CACD,CACF,CACF,CATQ,CASN,CAACH,MAAD,CATM,CAAT,CAWA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAoB,IAAjBC,CAAAA,IAAiB,MAAjBA,IAAiB,CAAXC,IAAW,MAAXA,IAAW,CACvCX,SAAS,kBACJD,MADI,oBAENW,IAFM,CAECC,IAFD,GAAT,CAID,CALD,CAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,QAAD,CAAc,CACjC,GAAMC,CAAAA,gBAAgB,CAAGhB,QAAQ,CAAGA,QAAQ,CAACC,MAAD,CAAX,CAAsB,EAAvD,CACAK,aAAa,CAAC,IAAD,CAAb,CACAF,SAAS,CAACY,gBAAD,CAAT,CACA,GACE,MAAOD,CAAAA,QAAP,GAAoB,UAApB,EACAP,MAAM,CAACC,IAAP,CAAYO,gBAAZ,EAA8BN,MAA9B,GAAyC,CAF3C,CAGE,CACAK,QAAQ,GACT,CACF,CAVD,CAYA,MAAO,CAAED,YAAY,CAAZA,YAAF,CAAgBH,YAAY,CAAZA,YAAhB,CAA8BV,MAAM,CAANA,MAA9B,CAAsCE,MAAM,CAANA,MAAtC,CAA8CE,YAAY,CAAZA,YAA9C,CAAP,CACD,CApCD,CAsCA,cAAeP,CAAAA,iBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst useFormValidation = (initialState, validate) => {\n  const [values, setValues] = useState(initialState);\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (isSubmitting) {\n      const noErrors = Object.keys(errors).length === 0;\n      if (noErrors) {\n        setSubmitting(false);\n      } else {\n        setSubmitting(false);\n      }\n    }\n  }, [errors]);\n\n  const handleChange = ({ name, text }) => {\n    setValues({\n      ...values,\n      [name]: text,\n    });\n  };\n\n  const handleSubmit = (callback) => {\n    const validationErrors = validate ? validate(values) : {};\n    setSubmitting(true);\n    setErrors(validationErrors);\n    if (\n      typeof callback === \"function\" &&\n      Object.keys(validationErrors).length === 0\n    ) {\n      callback();\n    }\n  };\n\n  return { handleSubmit, handleChange, values, errors, isSubmitting };\n};\n\nexport default useFormValidation;\n"]},"metadata":{},"sourceType":"module"}